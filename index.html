<html> 
<body> 
<script type="text/javascript"> 
 window.onAmazonLoginReady = function() { 
   amazon.Login.setClientId('amzn1.application.db726387251d4250a269cb7dcce88d82'); //enter your LWA client ID  
 }; 
 (function(d) { 
   var a = d.createElement('script'); a.type = 'text/javascript'; 
   a.async = true; a.id = 'amazon-login-sdk'; 
   a.src = 'https://api-cdn.amazon.com/sdk/login1.js'; 
   d.getElementById('amazon-root').appendChild(a); 
 })(document); 
</script> 
<div id = 'getCode' name='getCode' style="display:none"> 
<h3>Step 2: Authenticate through Amazon to enable the Dash Replenishment Service</h3> 
<p> 
<a href="#" id="LoginWithAmazon"> 
 <img border="0" alt="Login with Amazon" 
   src="https://images-na.ssl-images-amazon.com/images/G/01/lwa/btnLWA_gold_156x32.png" 
   width="156" height="32" /> 
</a> 
<script type="text/javascript"> 
 document.getElementById('LoginWithAmazon').onclick = function() { 
	var returnuri = 'spadgenske.github.io/Smartdrawer/return'; //this is where you want the authorization_code returned to (it will be on the query string)
	var serial = '12345'; //enter the serial number for the device 
	var device = 'dc601aca-1fd9-454d-9d43-11751ddd7bbf'; //enter the device number for the device 
   var options = new Object();  
	var scope = ('dash:replenish'); 
	var scope_data = new Object(); 
	scope_data['dash:replenish'] = {"device_model":device,"serial":serial,"is_test_device":true}; 
	options['scope_data'] = scope_data; 
	options['scope'] = scope; 
	options['state'] = serial; 
	options['interactive'] = 'always'; 
	options['response_type'] = 'code'; 
   amazon.Login.authorize(options, returnuri); 
   return false; 
 }; 
</script> 
</div> 
</body> 
</html> 
